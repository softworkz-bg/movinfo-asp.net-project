@model SingleReviewViewModel

<aside class="widget widget-movie-details">
    <h3 class="title">Wanna Add Review?</h3>
    <div class="container">
        <div class="row" style="margin-top:40px;">
            <div class="col-md-3">
                <div>
                    <div>
                        <a class="btn btn-main btn-effect" href="#reviews-anchor" id="open-review-box">Click to Add</a>
                    </div>

                    @if (User.Identity.IsAuthenticated)
                    {
                        <div class="row" id="post-review-box" style="display:none;">
                            <div class="col-md-12">
                                <form method="post" asp-action="SaveReviewAsync" asp-controller="Review">

                                    <input asp-for="@Model.Rating" id="ratings-hidden" name="rating" type="hidden" required>

                                    <input asp-for="@Model.ApplicationUserId" name="ApplicationUserId" type="hidden" value="@Model.ApplicationUserId">
                                    <input asp-for="@Model.ApplicationUserName" name="ApplicationUserName" type="hidden" value="@Model.ApplicationUserName">
                                    <input asp-for="@Model.MovieId" name="MovieId" type="hidden" value="@Model.MovieId">

                                    <textarea asp-for="@Model.Text" class="form-control animated" cols="50" id="new-review" name="Text" placeholder="Enter your review here..." rows="5"></textarea>
                                    <span asp-validation-for="@Model.Text" class="text-danger"></span>
                                    <span asp-validation-for="@Model.Rating" class="text-danger"></span>

                                    <div>
                                        <div class="stars starrr" data-rating="0"></div>
                                        <a class="btn btn-danger btn-sm" href="#" id="close-review-box" style="display:none; margin-right: 10px;">
                                            <span class="glyphicon glyphicon-remove"></span>Cancel
                                        </a>
                                        <button class="btn btn-main btn-effect btn-lg" type="submit">Save</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="row" id="post-review-box" style="display:none;">
                            <div class="col-md-12">
                                <h3>Please LOG IN First!</h3>
                            </div>
                        </div>
                    }
                </div>

            </div>
        </div>
    </div>

</aside>
<!-- End of Details Widget -->